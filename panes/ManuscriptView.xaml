<UserControl x:Class="WordForge.Panes.ManuscriptView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:local="clr-namespace:WordForge.Panes"
             xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit"
             mc:Ignorable="d"
             d:DesignHeight="500" d:DesignWidth="800">
    <DockPanel>

        <!-- Project Info Bar -->
        <Border Background="#EEE" Height="24" DockPanel.Dock="Bottom">
            <TextBlock HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       FontWeight="Bold"
                       FontSize="12"
                       Text="{Binding ProjectInfoDisplay}" />
        </Border>

        <!-- Advertisement Placeholder -->
        <Border Background="#DDD" Height="28" DockPanel.Dock="Bottom">
            <TextBlock HorizontalAlignment="Center"
                       VerticalAlignment="Center"
                       FontStyle="Italic"
                       FontSize="11"
                       Text="Promoted Content (Amazon / Website / etc.)" />
        </Border>

        <!-- Main Content Layout -->
        <Grid>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="15*" />
                <ColumnDefinition Width="60*" />
                <ColumnDefinition Width="25*" />
            </Grid.ColumnDefinitions>

            <!-- TreeView: Chapter/Scene List -->
            <TreeView Grid.Column="0"
                      ItemsSource="{Binding ChapterList}"
                      SelectedItemChanged="TreeView_SelectedItemChanged"
                      Margin="4">
                <TreeView.ItemTemplate>
                    <HierarchicalDataTemplate ItemsSource="{Binding Scenes}">
                        <TextBlock Text="{Binding Title}">
                            <TextBlock.ContextMenu>
                                <ContextMenu>
                                    <MenuItem Header="Rename" />
                                    <MenuItem Header="Delete" />
                                    <Separator />
                                    <MenuItem Header="Insert Scene Above" />
                                    <MenuItem Header="Insert Scene Below" />
                                    <Separator />
                                    <MenuItem Header="Mark as Final (Bold)" />
                                    <MenuItem Header="Mark as Edits (Italics)" />
                                    <MenuItem Header="Mark as Draft (Normal)" />
                                </ContextMenu>
                            </TextBlock.ContextMenu>
                        </TextBlock>
                        <HierarchicalDataTemplate.ItemTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Title}">
                            <TextBlock.ContextMenu>
                                <ContextMenu>
                                    <MenuItem Header="Rename" />
                                    <MenuItem Header="Delete" />
                                    <Separator />
                                    <MenuItem Header="Insert Scene Above" />
                                    <MenuItem Header="Insert Scene Below" />
                                    <Separator />
                                    <MenuItem Header="Mark as Final (Bold)" />
                                    <MenuItem Header="Mark as Edits (Italics)" />
                                    <MenuItem Header="Mark as Draft (Normal)" />
                                </ContextMenu>
                            </TextBlock.ContextMenu>
                        </TextBlock>
                            </DataTemplate>
                        </HierarchicalDataTemplate.ItemTemplate>
                    </HierarchicalDataTemplate>
                </TreeView.ItemTemplate>
            </TreeView>

            <!-- Editor -->
            <avalonEdit:TextEditor Grid.Column="1"
                                   Name="Editor"
                                   ShowLineNumbers="True"
                                   HorizontalScrollBarVisibility="Disabled"
                                   VerticalScrollBarVisibility="Auto"
                                   WordWrap="True"
                                   FontFamily="Consolas"
                                   FontSize="14"
                                   Margin="4" />

            <!-- Placeholder for Right Pane -->
            <TextBlock Grid.Column="2"
                       Text="Right Pane (Ad Panel)"
                       HorizontalAlignment="Center"
                       VerticalAlignment="Top"
                       FontStyle="Italic"
                       Foreground="Gray"
                       Margin="4"/>
        </Grid>
    </DockPanel>
</UserControl>
